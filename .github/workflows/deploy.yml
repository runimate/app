name: Test Deploy to app (gh-pages)

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source (archive)
        uses: actions/checkout@v4

      # ë¹Œë“œ ëŒ€ì‹  ê°„ë‹¨í•œ ì •ì  íŒŒì¼ ìƒì„±
      - name: Create simple site
        run: |
          mkdir -p dist
          cat > dist/index.html << 'EOF'
          <!doctype html>
          <html lang="en">
          <head><meta charset="utf-8"><title>Deployed!</title></head>
          <body>
            <h1>It works ğŸ‰</h1>
            <p>Deployed from <b>archive</b> to <b>app</b>.</p>
          </body>
          </html>
          EOF

      - name: Deploy to app repo gh-pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          token: ${{ secrets.GH_PAT }}   # ì‹œí¬ë¦¿ ì´ë¦„ 'GH_PAT' í™•ì¸!
          branch: gh-pages
          folder: dist
          repository-name: runarchive-lab/app  # ë³¸ì¸ ê³„ì •/ë ˆí¬ëª… í™•ì¸
          clean: true
          single-commit: true
