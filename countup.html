<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Countup Animation Maker</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Jost:ital,wght@1,800&family=Rock+Salt&family=Lobster&family=Vibur&display=swap');

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 40px 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: #fff;
      color: #000;
      transition: all 0.3s ease;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .inputs {
      margin-bottom: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .inputs input {
      padding: 10px;
      font-size: 16px;
      width: 100px;
      margin: 5px 3px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .font-buttons, .align-buttons {
      margin-top: 10px;
    }

    .font-buttons button,
    .align-buttons button {
      margin: 4px;
      padding: 6px 12px;
      font-size: 14px;
      border-radius: 4px;
      border: 1px solid #ccc;
      background-color: #f5f5f5;
      cursor: pointer;
    }

    .output {
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      text-align: center;
      align-items: center;
    }

    .output.align-left {
      align-items: flex-start;
      text-align: left;
    }

    .month-display {
      font-size: 20px;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .main-number {
      font-size: 100px;
      font-weight: 800;
      font-style: italic;
      font-family: 'Jost', sans-serif;
      margin: 0;
    }

    .unit-label {
      font-size: 18px;
      margin-bottom: 40px;
    }

    .summary {
      display: flex;
      gap: 60px;
      font-size: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .summary.align-left {
      justify-content: flex-start;
    }

    .summary-item {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      text-align: left;
    }

    .summary-value {
      font-size: 28px;
      font-weight: bold;
    }

    .summary-label {
      font-size: 14px;
      font-weight: 400;
    }

    .Jost       { font-family: 'Jost', sans-serif; font-style: italic; font-weight: 800; }
    .BebasNeue  { font-family: 'Bebas Neue', sans-serif; }
    .RockSalt   { font-family: 'Rock Salt', cursive; }
    .Lobster    { font-family: 'Lobster', cursive; }
    .Vibur      { font-family: 'Vibur', cursive; }
  </style>
</head>
<body>
  <div class="container">
    <div class="inputs" id="inputSection">
      <input type="month" id="monthPicker" value="2025-06" />
      <input type="number" id="distanceInput" step="0.1" placeholder="Distance (예: 166.4)" />
      <input type="text" id="unitLabel" value="Kilometers" />
      <input type="number" id="runCount" placeholder="Runs (예: 14)" />
      <div>
        <input type="number" id="paceMin" placeholder="분" />'
        <input type="number" id="paceSec" placeholder="초" />"
      </div>
      <div>
        <input type="number" id="timeHr" placeholder="시" />시간
        <input type="number" id="timeMin" placeholder="분" />분
        <input type="number" id="timeSec" placeholder="초" />초
      </div>
      <button onclick="startCount()">Start</button>
      <div class="font-buttons">
        <button onclick="setFont('Jost')">Jost</button>
        <button onclick="setFont('BebasNeue')">Bebas Neue</button>
        <button onclick="setFont('RockSalt')">Rock Salt</button>
        <button onclick="setFont('Lobster')">Lobster</button>
        <button onclick="setFont('Vibur')">Vibur</button>
      </div>
      <div class="align-buttons">
        <button onclick="setAlignment('left')">왼쪽 정렬</button>
        <button onclick="setAlignment('center')">가운데 정렬</button>
      </div>
    </div>

    <div class="output" id="outputSection">
      <div id="monthDisplay" class="month-display">June 2025</div>
      <div id="mainNumber" class="main-number Jost">0</div>
      <div id="unitDisplay" class="unit-label">Kilometers</div>
      <div class="summary" id="summarySection">
        <div class="summary-item">
          <div id="runCountDisplay" class="summary-value">--</div>
          <div class="summary-label">Runs</div>
        </div>
        <div class="summary-item">
          <div id="avgPaceDisplay" class="summary-value">--</div>
          <div class="summary-label">Avg. Pace</div>
        </div>
        <div class="summary-item">
          <div id="totalTimeDisplay" class="summary-value">--</div>
          <div class="summary-label">Time</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function easeOutQuart(t) {
      return 1 - Math.pow(1 - t, 4);
    }

    function startCount() {
      const target = parseFloat(document.getElementById('distanceInput').value);
      const unit = document.getElementById('unitLabel').value || 'Kilometers';
      const runCount = document.getElementById('runCount').value;
      const month = document.getElementById('monthPicker').value;

      const paceMin = document.getElementById('paceMin').value;
      const paceSec = document.getElementById('paceSec').value;

      const timeHr = document.getElementById('timeHr').value;
      const timeMin = document.getElementById('timeMin').value;
      const timeSec = document.getElementById('timeSec').value;

      if (isNaN(target)) {
        alert('숫자를 입력해주세요!');
        return;
      }

      const [year, monthNum] = month.split("-");
      const monthName = new Date(`${monthNum}/01/${year}`).toLocaleString("en-US", { month: "long" });
      document.getElementById("monthDisplay").textContent = `${monthName} ${year}`;

      document.getElementById('unitDisplay').textContent = unit;
      document.getElementById('runCountDisplay').textContent = runCount || '--';

      const paceText = (paceMin ? paceMin : "--") + "'" + (paceSec ? paceSec : "--") + '"';
      document.getElementById('avgPaceDisplay').textContent = paceText;

      const timeText = 
        (timeHr ? timeHr.padStart(2, '0') : "00") + ":" +
        (timeMin ? timeMin.padStart(2, '0') : "00") + ":" +
        (timeSec ? timeSec.padStart(2, '0') : "00");

      document.getElementById('totalTimeDisplay').textContent = timeText;

      const decimalPlaces = (document.getElementById('distanceInput').value.split('.')[1] || '').length;
      const duration = 700;
      const start = 0;
      const end = target;
      const startTime = performance.now();

      function animate(now) {
        const elapsed = now - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const easedProgress = easeOutQuart(progress);
        const currentValue = (start + (end - start) * easedProgress).toFixed(decimalPlaces);
        const formatted = Number(currentValue).toLocaleString();
        document.getElementById('mainNumber').textContent = formatted;

        if (progress < 1) {
          requestAnimationFrame(animate);
        }
      }

      requestAnimationFrame(animate);
    }

    function setFont(fontClass) {
      const mainNum = document.getElementById('mainNumber');
      mainNum.className = `main-number ${fontClass}`;
    }

    function setAlignment(align) {
      const output = document.getElementById('outputSection');
      const summary = document.getElementById('summarySection');

      if (align === 'left') {
        output.classList.add('align-left');
        summary.classList.add('align-left');
      } else {
        output.classList.remove('align-left');
        summary.classList.remove('align-left');
      }
    }
  </script>
</body>
</html>